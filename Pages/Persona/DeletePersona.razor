@page "/persona/deletepersona/{ID}"
@using DurbelALora.Model
@using DurbelALora.Service
@inject IPersonaService service
@inject NavigationManager navigationManager

<div class="card">
    <div class="card-header">
        <h4>Quieres Borrar a @obj.Nombre?</h4>
    </div>
    <center>
        <div class="col-md-12">
            <div class="form-group">
                <input type="button" class="btn btn-danger" @onclick="@DeleteComp" value="Borrar" />
                <input type="button" class="btn btn-primary" @onclick="@back" value="Volver" />
            </div>
        </div>
    </center>
</div>


@code {
    [Parameter]
    public string Id { get; set; }
    Persona obj = new Persona();

    protected override async Task OnInitializedAsync()
    {
        obj = await Task.Run(() => service.GetById(Convert.ToInt32(Id)));
    }

    protected async void DeleteComp()
    {
        await service.Delete(obj.ID);
        navigationManager.NavigateTo("/persona");
    }

    void back()
    {
        navigationManager.NavigateTo("/persona");
    }
}
